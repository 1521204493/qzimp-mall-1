import{ar as Me,ap as Q,m as O,u as ve,U as ae,T as X,n as le,as as re,C as ze,v as H,a1 as me,z as w,B as je,D as W,q as L,t as A,o as k,c as S,a as P,K as ye,at as be,L as e,au as ge,M as y,a9 as _,R as M,S as z,a2 as he,i as ke,aa as K,a7 as G,av as Ke,y as qe,aw as He,H as We,a6 as $e,x as Xe,ax as Je,G as x,V as Ee,W as oe,ay as we,$ as E,az as Ye,aA as Re,a0 as Ze,aB as Se,aC as _e,f as R,g as U,d as T,a8 as Qe,j,aD as ne,p as Ce,aE as ee,aF as C,s as xe,F as et,h as tt,w as Pe,b as N,aG as st,aH as at,aI as ot,aJ as nt,Z as lt,aK as te,aL as rt,aM as it,aN as ut,ah as dt,aO as ct,aj as pt,aP as ie,ab as ue}from"./index-e1e6a21c.js";var ft=1,vt=4;function mt(a){return Me(a,ft|vt)}const yt=100,bt=600,ks={beforeMount(a,o){const s=o.value,{interval:t=yt,delay:v=bt}=Q(s)?{}:s;let p,c;const h=()=>Q(s)?s():s.handler(),m=()=>{c&&(clearTimeout(c),c=void 0),p&&(clearInterval(p),p=void 0)};a.addEventListener("mousedown",i=>{i.button===0&&(m(),h(),document.addEventListener("mouseup",()=>m(),{once:!0}),c=setTimeout(()=>{p=setInterval(()=>{h()},t)},v))})}},Le=O({size:ve,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),gt=O({...Le,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),Fe={[ae]:a=>X(a)||le(a)||re(a),[ze]:a=>X(a)||le(a)||re(a)},Te=Symbol("radioGroupKey"),Be=(a,o)=>{const s=H(),t=me(Te,void 0),v=w(()=>!!t),p=w({get(){return v.value?t.modelValue:a.modelValue},set(g){v.value?t.changeEvent(g):o&&o(ae,g),s.value.checked=a.modelValue===a.label}}),c=je(w(()=>t==null?void 0:t.size)),h=W(w(()=>t==null?void 0:t.disabled)),m=H(!1),i=w(()=>h.value||v.value&&p.value!==a.label?-1:0);return{radioRef:s,isGroup:v,radioGroup:t,focus:m,size:c,disabled:h,tabIndex:i,modelValue:p}},ht=["value","name","disabled"],kt=L({name:"ElRadio"}),$t=L({...kt,props:gt,emits:Fe,setup(a,{emit:o}){const s=a,t=A("radio"),{radioRef:v,radioGroup:p,focus:c,size:h,disabled:m,modelValue:i}=Be(s,o);function g(){he(()=>o("change",i.value))}return(r,n)=>{var u;return k(),S("label",{class:y([e(t).b(),e(t).is("disabled",e(m)),e(t).is("focus",e(c)),e(t).is("bordered",r.border),e(t).is("checked",e(i)===r.label),e(t).m(e(h))])},[P("span",{class:y([e(t).e("input"),e(t).is("disabled",e(m)),e(t).is("checked",e(i)===r.label)])},[ye(P("input",{ref_key:"radioRef",ref:v,"onUpdate:modelValue":n[0]||(n[0]=l=>ge(i)?i.value=l:null),class:y(e(t).e("original")),value:r.label,name:r.name||((u=e(p))==null?void 0:u.name),disabled:e(m),type:"radio",onFocus:n[1]||(n[1]=l=>c.value=!0),onBlur:n[2]||(n[2]=l=>c.value=!1),onChange:g},null,42,ht),[[be,e(i)]]),P("span",{class:y(e(t).e("inner"))},null,2)],2),P("span",{class:y(e(t).e("label")),onKeydown:n[3]||(n[3]=M(()=>{},["stop"]))},[_(r.$slots,"default",{},()=>[ke(K(r.label),1)])],34)],2)}}});var Et=z($t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const wt=O({...Le,name:{type:String,default:""}}),Rt=["value","name","disabled"],St=L({name:"ElRadioButton"}),_t=L({...St,props:wt,setup(a){const o=a,s=A("radio"),{radioRef:t,focus:v,size:p,disabled:c,modelValue:h,radioGroup:m}=Be(o),i=w(()=>({backgroundColor:(m==null?void 0:m.fill)||"",borderColor:(m==null?void 0:m.fill)||"",boxShadow:m!=null&&m.fill?`-1px 0 0 0 ${m.fill}`:"",color:(m==null?void 0:m.textColor)||""}));return(g,r)=>{var n;return k(),S("label",{class:y([e(s).b("button"),e(s).is("active",e(h)===g.label),e(s).is("disabled",e(c)),e(s).is("focus",e(v)),e(s).bm("button",e(p))])},[ye(P("input",{ref_key:"radioRef",ref:t,"onUpdate:modelValue":r[0]||(r[0]=u=>ge(h)?h.value=u:null),class:y(e(s).be("button","original-radio")),value:g.label,type:"radio",name:g.name||((n=e(m))==null?void 0:n.name),disabled:e(c),onFocus:r[1]||(r[1]=u=>v.value=!0),onBlur:r[2]||(r[2]=u=>v.value=!1)},null,42,Rt),[[be,e(h)]]),P("span",{class:y(e(s).be("button","inner")),style:G(e(h)===g.label?e(i):{}),onKeydown:r[3]||(r[3]=M(()=>{},["stop"]))},[_(g.$slots,"default",{},()=>[ke(K(g.label),1)])],38)],2)}}});var Ue=z(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Ct=O({id:{type:String,default:void 0},size:ve,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Pt=Fe,Lt=["id","aria-label","aria-labelledby"],Ft=L({name:"ElRadioGroup"}),Tt=L({...Ft,props:Ct,emits:Pt,setup(a,{emit:o}){const s=a,t=A("radio"),v=Ke(),p=H(),{formItem:c}=qe(),{inputId:h,isLabeledByFormItem:m}=He(s,{formItemContext:c}),i=r=>{o(ae,r),he(()=>o("change",r))};We(()=>{const r=p.value.querySelectorAll("[type=radio]"),n=r[0];!Array.from(r).some(u=>u.checked)&&n&&(n.tabIndex=0)});const g=w(()=>s.name||v.value);return $e(Te,Xe({...Je(s),changeEvent:i,name:g})),x(()=>s.modelValue,()=>{s.validateEvent&&(c==null||c.validate("change").catch(r=>Ee()))}),(r,n)=>(k(),S("div",{id:e(h),ref_key:"radioGroupRef",ref:p,class:y(e(t).b("group")),role:"radiogroup","aria-label":e(m)?void 0:r.label||"radio-group","aria-labelledby":e(m)?e(c).labelId:void 0},[_(r.$slots,"default")],10,Lt))}});var De=z(Tt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const $s=oe(Et,{RadioButton:Ue,RadioGroup:De}),Es=we(De);we(Ue);const Bt=O({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:a=>a>=0&&a<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:E(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:E([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:E(Function),default:a=>`${a}%`}}),Ut=["aria-valuenow"],Dt={viewBox:"0 0 100 100"},It=["d","stroke","stroke-width"],Nt=["d","stroke","opacity","stroke-linecap","stroke-width"],Ot={key:0},At=L({name:"ElProgress"}),Vt=L({...At,props:Bt,setup(a){const o=a,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},t=A("progress"),v=w(()=>({width:`${o.percentage}%`,animationDuration:`${o.duration}s`,backgroundColor:D(o.percentage)})),p=w(()=>(o.strokeWidth/o.width*100).toFixed(1)),c=w(()=>["circle","dashboard"].includes(o.type)?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),h=w(()=>{const d=c.value,B=o.type==="dashboard";return`
          M 50 50
          m 0 ${B?"":"-"}${d}
          a ${d} ${d} 0 1 1 0 ${B?"-":""}${d*2}
          a ${d} ${d} 0 1 1 0 ${B?"":"-"}${d*2}
          `}),m=w(()=>2*Math.PI*c.value),i=w(()=>o.type==="dashboard"?.75:1),g=w(()=>`${-1*m.value*(1-i.value)/2}px`),r=w(()=>({strokeDasharray:`${m.value*i.value}px, ${m.value}px`,strokeDashoffset:g.value})),n=w(()=>({strokeDasharray:`${m.value*i.value*(o.percentage/100)}px, ${m.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),u=w(()=>{let d;return o.color?d=D(o.percentage):d=s[o.status]||s.default,d}),l=w(()=>o.status==="warning"?Ye:o.type==="line"?o.status==="success"?Re:Ze:o.status==="success"?Se:_e),b=w(()=>o.type==="line"?12+o.strokeWidth*.4:o.width*.111111+2),$=w(()=>o.format(o.percentage));function f(d){const B=100/d.length;return d.map((F,V)=>X(F)?{color:F,percentage:(V+1)*B}:F).sort((F,V)=>F.percentage-V.percentage)}const D=d=>{var B;const{color:I}=o;if(Q(I))return I(d);if(X(I))return I;{const F=f(I);for(const V of F)if(V.percentage>d)return V.color;return(B=F[F.length-1])==null?void 0:B.color}};return(d,B)=>(k(),S("div",{class:y([e(t).b(),e(t).m(d.type),e(t).is(d.status),{[e(t).m("without-text")]:!d.showText,[e(t).m("text-inside")]:d.textInside}]),role:"progressbar","aria-valuenow":d.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[d.type==="line"?(k(),S("div",{key:0,class:y(e(t).b("bar"))},[P("div",{class:y(e(t).be("bar","outer")),style:G({height:`${d.strokeWidth}px`})},[P("div",{class:y([e(t).be("bar","inner"),{[e(t).bem("bar","inner","indeterminate")]:d.indeterminate},{[e(t).bem("bar","inner","striped")]:d.striped},{[e(t).bem("bar","inner","striped-flow")]:d.stripedFlow}]),style:G(e(v))},[(d.showText||d.$slots.default)&&d.textInside?(k(),S("div",{key:0,class:y(e(t).be("bar","innerText"))},[_(d.$slots,"default",{percentage:d.percentage},()=>[P("span",null,K(e($)),1)])],2)):R("v-if",!0)],6)],6)],2)):(k(),S("div",{key:1,class:y(e(t).b("circle")),style:G({height:`${d.width}px`,width:`${d.width}px`})},[(k(),S("svg",Dt,[P("path",{class:y(e(t).be("circle","track")),d:e(h),stroke:`var(${e(t).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":e(p),fill:"none",style:G(e(r))},null,14,It),P("path",{class:y(e(t).be("circle","path")),d:e(h),stroke:e(u),fill:"none",opacity:d.percentage?1:0,"stroke-linecap":d.strokeLinecap,"stroke-width":e(p),style:G(e(n))},null,14,Nt)]))],6)),(d.showText||d.$slots.default)&&!d.textInside?(k(),S("div",{key:2,class:y(e(t).e("text")),style:G({fontSize:`${e(b)}px`})},[_(d.$slots,"default",{percentage:d.percentage},()=>[d.status?(k(),U(e(j),{key:1},{default:T(()=>[(k(),U(Qe(e(l))))]),_:1})):(k(),S("span",Ot,K(e($)),1))])],6)):R("v-if",!0)],10,Ut))}});var Gt=z(Vt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Mt=oe(Gt),Ie=Symbol("uploadContextKey"),zt="ElUpload";class jt extends Error{constructor(o,s,t,v){super(o),this.name="UploadAjaxError",this.status=s,this.method=t,this.url=v}}function de(a,o,s){let t;return s.response?t=`${s.response.error||s.response}`:s.responseText?t=`${s.responseText}`:t=`fail to ${o.method} ${a} ${s.status}`,new jt(t,s.status,o.method,a)}function Kt(a){const o=a.responseText||a.response;if(!o)return o;try{return JSON.parse(o)}catch{return o}}const qt=a=>{typeof XMLHttpRequest>"u"&&ne(zt,"XMLHttpRequest is undefined");const o=new XMLHttpRequest,s=a.action;o.upload&&o.upload.addEventListener("progress",p=>{const c=p;c.percent=p.total>0?p.loaded/p.total*100:0,a.onProgress(c)});const t=new FormData;if(a.data)for(const[p,c]of Object.entries(a.data))Array.isArray(c)?t.append(p,...c):t.append(p,c);t.append(a.filename,a.file,a.file.name),o.addEventListener("error",()=>{a.onError(de(s,a,o))}),o.addEventListener("load",()=>{if(o.status<200||o.status>=300)return a.onError(de(s,a,o));a.onSuccess(Kt(o))}),o.open(a.method,s,!0),a.withCredentials&&"withCredentials"in o&&(o.withCredentials=!0);const v=a.headers||{};if(v instanceof Headers)v.forEach((p,c)=>o.setRequestHeader(c,p));else for(const[p,c]of Object.entries(v))Ce(c)||o.setRequestHeader(p,String(c));return o.send(t),o},Ne=["text","picture","picture-card"];let Ht=1;const se=()=>Date.now()+Ht++,Oe=O({action:{type:String,default:"#"},headers:{type:E(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>ee({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:E(Array),default:()=>ee([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Ne,default:"text"},httpRequest:{type:E(Function),default:qt},disabled:Boolean,limit:Number}),Wt=O({...Oe,beforeUpload:{type:E(Function),default:C},beforeRemove:{type:E(Function)},onRemove:{type:E(Function),default:C},onChange:{type:E(Function),default:C},onPreview:{type:E(Function),default:C},onSuccess:{type:E(Function),default:C},onProgress:{type:E(Function),default:C},onError:{type:E(Function),default:C},onExceed:{type:E(Function),default:C}}),Xt=O({files:{type:E(Array),default:()=>ee([])},disabled:{type:Boolean,default:!1},handlePreview:{type:E(Function),default:C},listType:{type:String,values:Ne,default:"text"}}),Jt={remove:a=>!!a},Yt=["onKeydown"],Zt=["src"],Qt=["onClick"],xt=["onClick"],es=["onClick"],ts=L({name:"ElUploadList"}),ss=L({...ts,props:Xt,emits:Jt,setup(a,{emit:o}){const{t:s}=xe(),t=A("upload"),v=A("icon"),p=A("list"),c=W(),h=H(!1),m=i=>{o("remove",i)};return(i,g)=>(k(),U(nt,{tag:"ul",class:y([e(t).b("list"),e(t).bm("list",i.listType),e(t).is("disabled",e(c))]),name:e(p).b()},{default:T(()=>[(k(!0),S(et,null,tt(i.files,r=>(k(),S("li",{key:r.uid||r.name,class:y([e(t).be("list","item"),e(t).is(r.status),{focusing:h.value}]),tabindex:"0",onKeydown:Pe(n=>!e(c)&&m(r),["delete"]),onFocus:g[0]||(g[0]=n=>h.value=!0),onBlur:g[1]||(g[1]=n=>h.value=!1),onClick:g[2]||(g[2]=n=>h.value=!1)},[_(i.$slots,"default",{file:r},()=>[i.listType==="picture"||r.status!=="uploading"&&i.listType==="picture-card"?(k(),S("img",{key:0,class:y(e(t).be("list","item-thumbnail")),src:r.url,alt:""},null,10,Zt)):R("v-if",!0),r.status==="uploading"||i.listType!=="picture-card"?(k(),S("div",{key:1,class:y(e(t).be("list","item-info"))},[P("a",{class:y(e(t).be("list","item-name")),onClick:M(n=>i.handlePreview(r),["prevent"])},[N(e(j),{class:y(e(v).m("document"))},{default:T(()=>[N(e(st))]),_:1},8,["class"]),P("span",{class:y(e(t).be("list","item-file-name"))},K(r.name),3)],10,Qt),r.status==="uploading"?(k(),U(e(Mt),{key:0,type:i.listType==="picture-card"?"circle":"line","stroke-width":i.listType==="picture-card"?6:2,percentage:Number(r.percentage),style:G(i.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):R("v-if",!0)],2)):R("v-if",!0),P("label",{class:y(e(t).be("list","item-status-label"))},[i.listType==="text"?(k(),U(e(j),{key:0,class:y([e(v).m("upload-success"),e(v).m("circle-check")])},{default:T(()=>[N(e(Re))]),_:1},8,["class"])):["picture-card","picture"].includes(i.listType)?(k(),U(e(j),{key:1,class:y([e(v).m("upload-success"),e(v).m("check")])},{default:T(()=>[N(e(Se))]),_:1},8,["class"])):R("v-if",!0)],2),e(c)?R("v-if",!0):(k(),U(e(j),{key:2,class:y(e(v).m("close")),onClick:n=>m(r)},{default:T(()=>[N(e(_e))]),_:2},1032,["class","onClick"])),R(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),R(" This is a bug which needs to be fixed "),R(" TODO: Fix the incorrect navigation interaction "),e(c)?R("v-if",!0):(k(),S("i",{key:3,class:y(e(v).m("close-tip"))},K(e(s)("el.upload.deleteTip")),3)),i.listType==="picture-card"?(k(),S("span",{key:4,class:y(e(t).be("list","item-actions"))},[P("span",{class:y(e(t).be("list","item-preview")),onClick:n=>i.handlePreview(r)},[N(e(j),{class:y(e(v).m("zoom-in"))},{default:T(()=>[N(e(at))]),_:1},8,["class"])],10,xt),e(c)?R("v-if",!0):(k(),S("span",{key:0,class:y(e(t).be("list","item-delete")),onClick:n=>m(r)},[N(e(j),{class:y(e(v).m("delete"))},{default:T(()=>[N(e(ot))]),_:1},8,["class"])],10,es))],2)):R("v-if",!0)])],42,Yt))),128)),_(i.$slots,"append")]),_:3},8,["class","name"]))}});var ce=z(ss,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const as=O({disabled:{type:Boolean,default:!1}}),os={file:a=>lt(a)},ns=["onDrop","onDragover"],Ae="ElUploadDrag",ls=L({name:Ae}),rs=L({...ls,props:as,emits:os,setup(a,{emit:o}){const s=me(Ie);s||ne(Ae,"usage: <el-upload><el-upload-dragger /></el-upload>");const t=A("upload"),v=H(!1),p=W(),c=m=>{if(p.value)return;v.value=!1,m.stopPropagation();const i=Array.from(m.dataTransfer.files),g=s.accept.value;if(!g){o("file",i);return}const r=i.filter(n=>{const{type:u,name:l}=n,b=l.includes(".")?`.${l.split(".").pop()}`:"",$=u.replace(/\/.*$/,"");return g.split(",").map(f=>f.trim()).filter(f=>f).some(f=>f.startsWith(".")?b===f:/\/\*$/.test(f)?$===f.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(f)?u===f:!1)});o("file",r)},h=()=>{p.value||(v.value=!0)};return(m,i)=>(k(),S("div",{class:y([e(t).b("dragger"),e(t).is("dragover",v.value)]),onDrop:M(c,["prevent"]),onDragover:M(h,["prevent"]),onDragleave:i[0]||(i[0]=M(g=>v.value=!1,["prevent"]))},[_(m.$slots,"default")],42,ns))}});var is=z(rs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const us=O({...Oe,beforeUpload:{type:E(Function),default:C},onRemove:{type:E(Function),default:C},onStart:{type:E(Function),default:C},onSuccess:{type:E(Function),default:C},onProgress:{type:E(Function),default:C},onError:{type:E(Function),default:C},onExceed:{type:E(Function),default:C}}),ds=["onKeydown"],cs=["name","multiple","accept"],ps=L({name:"ElUploadContent",inheritAttrs:!1}),fs=L({...ps,props:us,setup(a,{expose:o}){const s=a,t=A("upload"),v=W(),p=te({}),c=te(),h=l=>{if(l.length===0)return;const{autoUpload:b,limit:$,fileList:f,multiple:D,onStart:d,onExceed:B}=s;if($&&f.length+l.length>$){B(l,f);return}D||(l=l.slice(0,1));for(const I of l){const F=I;F.uid=se(),d(F),b&&m(F)}},m=async l=>{if(c.value.value="",!s.beforeUpload)return i(l);let b,$={};try{const D=s.beforeUpload(l);$=rt(s.data)?mt(s.data):s.data,b=await D}catch{b=!1}if(b===!1){s.onRemove(l);return}let f=l;b instanceof Blob&&(b instanceof File?f=b:f=new File([b],l.name,{type:l.type})),i(Object.assign(f,{uid:l.uid}),$)},i=(l,b)=>{const{headers:$,data:f,method:D,withCredentials:d,name:B,action:I,onProgress:F,onSuccess:V,onError:Ve,httpRequest:Ge}=s,{uid:J}=l,Y={headers:$||{},withCredentials:d,file:l,data:b??f,method:D,filename:B,action:I,onProgress:q=>{F(q,l)},onSuccess:q=>{V(q,l),delete p.value[J]},onError:q=>{Ve(q,l),delete p.value[J]}},Z=Ge(Y);p.value[J]=Z,Z instanceof Promise&&Z.then(Y.onSuccess,Y.onError)},g=l=>{const b=l.target.files;b&&h(Array.from(b))},r=()=>{v.value||(c.value.value="",c.value.click())},n=()=>{r()};return o({abort:l=>{it(p.value).filter(l?([$])=>String(l.uid)===$:()=>!0).forEach(([$,f])=>{f instanceof XMLHttpRequest&&f.abort(),delete p.value[$]})},upload:m}),(l,b)=>(k(),S("div",{class:y([e(t).b(),e(t).m(l.listType),e(t).is("drag",l.drag)]),tabindex:"0",onClick:r,onKeydown:Pe(M(n,["self"]),["enter","space"])},[l.drag?(k(),U(is,{key:0,disabled:e(v),onFile:h},{default:T(()=>[_(l.$slots,"default")]),_:3},8,["disabled"])):_(l.$slots,"default",{key:1}),P("input",{ref_key:"inputRef",ref:c,class:y(e(t).e("input")),name:l.name,multiple:l.multiple,accept:l.accept,type:"file",onChange:g,onClick:b[0]||(b[0]=M(()=>{},["stop"]))},null,42,cs)],42,ds))}});var pe=z(fs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const fe="ElUpload",vs=a=>{var o;(o=a.url)!=null&&o.startsWith("blob:")&&URL.revokeObjectURL(a.url)},ms=(a,o)=>{const s=ut(a,"fileList",void 0,{passive:!0}),t=n=>s.value.find(u=>u.uid===n.uid);function v(n){var u;(u=o.value)==null||u.abort(n)}function p(n=["ready","uploading","success","fail"]){s.value=s.value.filter(u=>!n.includes(u.status))}const c=(n,u)=>{const l=t(u);l&&(console.error(n),l.status="fail",s.value.splice(s.value.indexOf(l),1),a.onError(n,l,s.value),a.onChange(l,s.value))},h=(n,u)=>{const l=t(u);l&&(a.onProgress(n,l,s.value),l.status="uploading",l.percentage=Math.round(n.percent))},m=(n,u)=>{const l=t(u);l&&(l.status="success",l.response=n,a.onSuccess(n,l,s.value),a.onChange(l,s.value))},i=n=>{Ce(n.uid)&&(n.uid=se());const u={name:n.name,percentage:0,status:"ready",size:n.size,raw:n,uid:n.uid};if(a.listType==="picture-card"||a.listType==="picture")try{u.url=URL.createObjectURL(n)}catch(l){Ee(fe,l.message),a.onError(l,u,s.value)}s.value=[...s.value,u],a.onChange(u,s.value)},g=async n=>{const u=n instanceof File?t(n):n;u||ne(fe,"file to be removed not found");const l=b=>{v(b);const $=s.value;$.splice($.indexOf(b),1),a.onRemove(b,$),vs(b)};a.beforeRemove?await a.beforeRemove(u,s.value)!==!1&&l(u):l(u)};function r(){s.value.filter(({status:n})=>n==="ready").forEach(({raw:n})=>{var u;return n&&((u=o.value)==null?void 0:u.upload(n))})}return x(()=>a.listType,n=>{n!=="picture-card"&&n!=="picture"||(s.value=s.value.map(u=>{const{raw:l,url:b}=u;if(!b&&l)try{u.url=URL.createObjectURL(l)}catch($){a.onError($,u,s.value)}return u}))}),x(s,n=>{for(const u of n)u.uid||(u.uid=se()),u.status||(u.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:v,clearFiles:p,handleError:c,handleProgress:h,handleStart:i,handleSuccess:m,handleRemove:g,submit:r}},ys=L({name:"ElUpload"}),bs=L({...ys,props:Wt,setup(a,{expose:o}){const s=a,t=dt(),v=W(),p=te(),{abort:c,submit:h,clearFiles:m,uploadFiles:i,handleStart:g,handleError:r,handleRemove:n,handleSuccess:u,handleProgress:l}=ms(s,p),b=w(()=>s.listType==="picture-card"),$=w(()=>({...s,fileList:i.value,onStart:g,onProgress:l,onSuccess:u,onError:r,onRemove:n}));return ct(()=>{i.value.forEach(({url:f})=>{f!=null&&f.startsWith("blob:")&&URL.revokeObjectURL(f)})}),$e(Ie,{accept:pt(s,"accept")}),o({abort:c,submit:h,clearFiles:m,handleStart:g,handleRemove:n}),(f,D)=>(k(),S("div",null,[e(b)&&f.showFileList?(k(),U(ce,{key:0,disabled:e(v),"list-type":f.listType,files:e(i),"handle-preview":f.onPreview,onRemove:e(n)},ie({append:T(()=>[N(pe,ue({ref_key:"uploadRef",ref:p},e($)),{default:T(()=>[e(t).trigger?_(f.$slots,"trigger",{key:0}):R("v-if",!0),!e(t).trigger&&e(t).default?_(f.$slots,"default",{key:1}):R("v-if",!0)]),_:3},16)]),_:2},[f.$slots.file?{name:"default",fn:T(({file:d})=>[_(f.$slots,"file",{file:d})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):R("v-if",!0),!e(b)||e(b)&&!f.showFileList?(k(),U(pe,ue({key:1,ref_key:"uploadRef",ref:p},e($)),{default:T(()=>[e(t).trigger?_(f.$slots,"trigger",{key:0}):R("v-if",!0),!e(t).trigger&&e(t).default?_(f.$slots,"default",{key:1}):R("v-if",!0)]),_:3},16)):R("v-if",!0),f.$slots.trigger?_(f.$slots,"default",{key:2}):R("v-if",!0),_(f.$slots,"tip"),!e(b)&&f.showFileList?(k(),U(ce,{key:3,disabled:e(v),"list-type":f.listType,files:e(i),"handle-preview":f.onPreview,onRemove:e(n)},ie({_:2},[f.$slots.file?{name:"default",fn:T(({file:d})=>[_(f.$slots,"file",{file:d})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):R("v-if",!0)]))}});var gs=z(bs,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const ws=oe(gs);export{ws as E,$s as a,Es as b,ks as v};
